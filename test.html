<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Big Skank Audio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        html {
            height: 100vh; /* Ensure html element is also viewport height */
            overflow-y: hidden; /* Prevent vertical scroll on html */
            overflow-x: hidden; /* Prevent horizontal scroll on html */
            margin: 0;
            padding: 0;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000; /* Black background */
            color: #FFFFFF; /* White text */
            overscroll-behavior-y: contain; /* Prevents overscrolling on the body */
            height: 100vh; /* Force body to viewport height */
            overflow-y: hidden; /* Body itself should not scroll; .scroll-container will */
            margin: 0; /* Ensure no default body margin */
            padding: 0; /* Ensure no default body padding */
        }

        .scroll-container {
            scroll-snap-type: y mandatory;
            overflow-y: scroll;
            height: 100vh; /* Takes full viewport height from its parent (body) */
            width: 100vw; /* Ensure it takes full viewport width */
            scroll-behavior: smooth; /* Make scrolling between sections smooth */
        }

        .scroll-section {
            scroll-snap-align: start;
            height: 100vh;
            width: 100%; 
            display: flex;
            flex-direction: column;
            /* justify-content: center; Removed from base style */
            align-items: center;
            padding-top: 7rem; 
            padding-left: 2rem;
            padding-right: 2rem;
            padding-bottom: 2rem;
            box-sizing: border-box; 
        }

        /* New class to center content only in sections that need it */
        .scroll-section-centered {
            justify-content: center;
        }

        /* Navbar styling */
        .navbar {
            background-color: rgba(10, 10, 10, 0.8); 
            backdrop-filter: blur(10px);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 50;
            border-bottom: 1px solid #333333; 
            height: 5rem; 
        }

        .nav-link {
            color: #CCCCCC; 
            transition: color 0.3s ease;
            cursor: pointer; /* Ensure pointer cursor on nav links */
        }

        .nav-link:hover, .nav-link.active {
            color: #FFFFFF; 
        }

        /* Section specific background colors */
        #hero { background-color: #111111; }
        #artists { background-color: #111111; }
        #events { background-color: #181818; }
        #merch { background-color: #111111; }
        #contact { background-color: #181818; }

        /* Custom scrollbar */
        .scroll-container::-webkit-scrollbar,
        .scrollable-content::-webkit-scrollbar {
            width: 8px;
        }
        .scroll-container::-webkit-scrollbar-track,
        .scrollable-content::-webkit-scrollbar-track {
            background: #1a1a1a;
        }
        .scroll-container::-webkit-scrollbar-thumb,
        .scrollable-content::-webkit-scrollbar-thumb {
            background-color: #444444;
            border-radius: 4px;
            border: 2px solid #1a1a1a;
        }
        .mobile-menu-button svg {
            stroke: #FFFFFF; 
        }

        /* Slideshow specific styles */
        .slideshow-container {
            position: relative;
            width: 100%; 
            margin: auto;
            overflow: hidden; 
        }
        #hero .slideshow-container {
            height: 100%;
        }

        .slide {
            display: none; /* All slides hidden by default */
            width: 100%;
            height: 100%;
            transition: opacity 0.5s ease-in-out;
        }

        .slide.active {
            display: block; /* JS makes the active slide visible */
        }

        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover; 
        }
        
        /* Constrain image height in standard slideshows like Merch */
        #merch .slide img {
            max-height: 60vh;
        }


        .slideshow-controls {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
            padding: 0 1.5rem; 
            box-sizing: border-box;
            z-index: 10; 
        }

        /* Hide arrows on hero slideshow */
        #releasesSlideshow .slideshow-controls {
            display: none;
        }

        .slideshow-controls button {
            background-color: rgba(26, 26, 26, 0.6);
            color: white;
            border: none;
            padding: 0.75rem 1rem;
            cursor: pointer;
            border-radius: 0.375rem;
            font-size: 1.25rem;
            transition: background-color 0.3s ease;
        }

        .slideshow-controls button:hover {
            background-color: rgba(42, 42, 42, 0.8);
        }
        
        .slideshow-dots {
            position: absolute; 
            bottom: 20px; 
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            z-index: 10; 
        }

        .dot {
            cursor: pointer;
            height: 12px;
            width: 12px;
            margin: 0 5px; 
            background-color: rgba(200, 200, 200, 0.5); 
            border: 1px solid rgba(0,0,0,0.2); 
            border-radius: 50%;
            display: inline-block;
            transition: background-color 0.3s ease;
        }

        .dot.active, .dot:hover {
            background-color: rgba(255, 255, 255, 0.9); 
        }

        /* Artist section specific styles */
        .artists-content-wrapper {
            width: 100%;
            height: 100%; /* Restored height */
            display: flex;
            flex-direction: column;
        }

        .artists-layout-container {
            display: flex;
            width: 100%;
            gap: 1.5rem; 
            align-items: flex-start; 
            flex-grow: 1; 
            overflow: hidden; 
        }

        .artist-grid-container {
            flex-basis: 40%; 
            flex-shrink: 0; 
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); 
            gap: 1rem;
            overflow-y: auto; 
            max-height: 100%; 
        }
        
        .artists-layout-container.description-hidden .artist-grid-container {
            flex-basis: 100%; 
            grid-template-columns: repeat(3, 1fr); 
        }
        .artists-layout-container.description-hidden .artist-description-panel {
            display: none; 
        }

        .artist-item-wrapper { 
            cursor: pointer;
            min-width: 0;
        }

        #artists .artist-image {
            width: 100%;
            aspect-ratio: 1 / 1; 
            object-fit: cover; 
            border-radius: 0.25rem; 
            border: 4px solid #4a5568; 
            transition: border-color 0.3s ease;
        }
        
        #artists .artist-item-wrapper.active-artist .artist-image {
            border-color: #FFFFFF; 
        }

        .artist-description-panel {
            flex-basis: 60%; 
            flex-shrink: 0; 
            background-color: #1f2937; 
            padding: 1.5rem;
            border-radius: 0.5rem;
            height: auto; 
            max-height: 100%; 
            overflow-y: auto; 
        }
        .artist-description-panel h3 {
            font-size: 1.75rem;
            font-weight: bold;
            margin-bottom: 0.75rem;
        }
        .artist-description-panel p {
            font-size: 1rem;
            line-height: 1.6;
            color: #d1d5db; 
        }
        
        /* Responsive adjustments for mobile */
        @media (max-width: 767px) {
            .artists-layout-container {
                flex-direction: column;
                overflow-y: auto;
            }

            .artist-grid-container {
                display: grid;
                grid-template-columns: repeat(2, 1fr); /* 2 columns on mobile */
                width: 100%;
                overflow-y: visible;
                max-height: none;
                flex-basis: auto;
            }
            
            #artistDescriptionPanel {
                display: none !important; /* Always hide the side panel on mobile */
            }

            .artist-inline-description {
                text-align: left;
                padding: 1rem;
                background-color: #1f2937;
                border-radius: 0.5rem;
                margin-top: 1rem;
                grid-column: 1 / -1; /* Span full width of the grid */
            }
        }
        
    </style>
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full">
            <div class="relative flex items-center justify-center h-full">
                <div class="absolute left-0 top-0 bottom-0 flex items-center">
                    <img src="logos/logoWhite.png" style="width: 10%"><img>
                </div>
                <!-- Desktop Navigation - Updated -->
                <div class="hidden md:block relative z-10">
                    <div class="flex items-baseline space-x-4">
                        <a href="#hero" class="nav-link page-scroll px-3 py-2 rounded-md text-base font-medium">Home</a>
                        <a href="#artists" class="nav-link page-scroll px-3 py-2 rounded-md text-base font-medium">Artists</a>
                        <a href="#events" class="nav-link page-scroll px-3 py-2 rounded-md text-base font-medium">Events</a>
                        <a href="#merch" class="nav-link page-scroll px-3 py-2 rounded-md text-base font-medium">Merch</a>
                        <a href="#contact" class="nav-link page-scroll px-3 py-2 rounded-md text-base font-medium">Contact</a>
                    </div>
                </div>
                <div class="absolute right-0 top-0 bottom-0 flex items-center md:hidden">
                    <button type="button" class="mobile-menu-button inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-controls="mobile-menu" aria-expanded="false" id="mobileMenuButton">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu, show/hide based on menu state. Updated -->
        <div class="md:hidden hidden bg-black bg-opacity-90 backdrop-blur-md" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#hero" class="nav-link page-scroll block px-3 py-2 rounded-md text-base font-medium">Home</a>
                <a href="#artists" class="nav-link page-scroll block px-3 py-2 rounded-md text-base font-medium">Artists</a>
                <a href="#events" class="nav-link page-scroll block px-3 py-2 rounded-md text-base font-medium">Events</a>
                <a href="#merch" class="nav-link page-scroll block px-3 py-2 rounded-md text-base font-medium">Merch</a>
                <a href="#contact" class="nav-link page-scroll block px-3 py-2 rounded-md text-base font-medium">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Scrollable Content Area -->
    <div class="scroll-container">
        <!-- Hero Section -->
        <section id="hero" class="scroll-section relative p-0">
            <!-- Slideshow as background -->
            <div class="slideshow-container absolute inset-0 w-full h-full" id="releasesSlideshow">
                 <!-- Desktop Slides (Landscape) -->
                <div class="slide desktop-slide">
                    <img src="https://placehold.co/1200x800/1a1a1a/4a4a4a?text=Desktop+Release+1" alt="Album Art 1">
                </div>
                <div class="slide desktop-slide">
                    <img src="https://placehold.co/1200x800/1a1a1a/4a4a4a?text=Desktop+Release+2" alt="Album Art 2">
                </div>
                <div class="slide desktop-slide">
                    <img src="https://placehold.co/1200x800/1a1a1a/4a4a4a?text=Desktop+Release+3" alt="Album Art 2">
                </div>
                <div class="slide desktop-slide">
                    <img src="https://placehold.co/1200x800/1a1a1a/4a4a4a?text=Desktop+Release+4" alt="Album Art 2">
                </div>
                <div class="slide desktop-slide">
                    <img src="https://placehold.co/1200x800/1a1a1a/4a4a4a?text=Desktop+Release+5" alt="Album Art 2">
                </div>
                <!-- Mobile Slides (Portrait) -->
                <div class="slide mobile-slide">
                    <img src="https://placehold.co/800x1200/1a1a1a/4a4a4a?text=Mobile+Release+1" alt="Album Art 1">
                </div>
                <div class="slide mobile-slide">
                    <img src="https://placehold.co/800x1200/1a1a1a/4a4a4a?text=Mobile+Release+2" alt="Album Art 2">
                </div>

                <div class="slideshow-controls">
                    <button id="prevSlideReleases" aria-label="Previous slide">&#10094;</button>
                    <button id="nextSlideReleases" aria-label="Next slide">&#10095;</button>
                </div>
                <div class="slideshow-dots" id="slideDotsReleases"></div>
            </div>

            <!-- Text Overlay -->
            <div class="absolute inset-0 z-10 flex flex-col items-center justify-center bg-black bg-opacity-50 text-center p-4">
                <h1 class="text-5xl md:text-7xl font-bold mb-6 leading-tight">FUTURE SOUNDS</h1>
                <p class="text-xl md:text-2xl text-gray-300 mb-8">Experience the cutting edge of drum and bass.</p>
                <a href="#artists" class="page-scroll bg-white text-black hover:bg-gray-200 font-semibold py-3 px-8 rounded-lg text-lg transition duration-300">Explore Artists</a>
            </div>
        </section>


        <!-- Artists Section -->
        <section id="artists" class="scroll-section">
            <div class="artists-content-wrapper max-w-7xl mx-auto text-center"> 
                <h2 class="text-4xl font-bold mb-8 flex-shrink-0">OUR ARTISTS</h2>
                <div class="artists-layout-container" id="artistsLayoutContainer">
                    <div class="artist-grid-container scrollable-content" id="artistGrid">
                        <!-- Artists will be populated here by JavaScript -->
                    </div>
                    <div class="artist-description-panel scrollable-content" id="artistDescriptionPanel">
                        <h3 id="descArtistName">Select an Artist</h3>
                        <p id="descArtistBio">Click on an artist from the list to see their description.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Events Section -->
        <section id="events" class="scroll-section scroll-section-centered">
            <div class="text-center w-full max-w-4xl mx-auto">
                <h2 class="text-4xl font-bold mb-8 invisible">UPCOMING EVENTS</h2>
                <div id='listing_widget_282079' style='width:100%'></div><script type='text/javascript'>(function (){var po=document.createElement('script'); po.type='text/javascript'; po.src='https://www.skiddle.com/infofeed/listing-widget/index.php?pid=282079&fetchLimit=8&orderBy=date&primaryColour=%23697689&contrastText=%23000000'; var s=document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);})();</script>
            </div>
        </section>

        <!-- Merch Section - Slideshow -->
        <section id="merch" class="scroll-section scroll-section-centered">
            <div class="text-center w-full mx-auto"> 
                <h2 class="text-4xl font-bold mb-8">MERCH</h2>
                <div class="slideshow-container" id="merchSlideshow">
                    <!-- Desktop Slides (Landscape) -->
                    <div class="slide desktop-slide">
                        <a href="https://bigskankaudio.bandcamp.com/merch/logo-t-shirt" target="_blank" rel="noopener noreferrer">
                            <img src="merch/logo/merchLogo1.jpg" alt="Logo T-Shirt on display">
                        </a>
                    </div>
                    <div class="slide desktop-slide">
                        <a href="https://bigskankaudio.bandcamp.com/merch/logo-t-shirt" target="_blank" rel="noopener noreferrer">
                            <img src="merch/logo/merchLogo2.jpg" alt="Close-up of Logo T-Shirt">
                        </a>
                    </div>
                    <div class="slide desktop-slide">
                        <a href="https://bigskankaudio.bandcamp.com/merch/logo-t-shirt" target="_blank" rel="noopener noreferrer">
                        <img src="merch/logo/merchLogo3.jpg" alt="Back of Logo T-Shirt">
                        </a>
                    </div>
                    <div class="slide desktop-slide">
                        <a href="https://bigskankaudio.bandcamp.com/merch/devil-t-shirt" target="_blank" rel="noopener noreferrer">
                            <img src="merch/devil/merchDevil1.jpg" alt="Devil T-Shirt on display">
                        </a>
                    </div>
                    <div class="slide desktop-slide">
                        <a href="https://bigskankaudio.bandcamp.com/merch/devil-t-shirt" target="_blank" rel="noopener noreferrer">
                            <img src="merch/devil/merchDevil2.jpg" alt="Close-up of Devil T-Shirt">
                        </a>
                    </div>

                    <!-- Mobile Slides (Portrait) -->
                    <div class="slide mobile-slide">
                        <a href="https://bigskankaudio.bandcamp.com/merch/logo-t-shirt" target="_blank" rel="noopener noreferrer">
                            <img src="merch/logo/merchLogo1.jpg" alt="Logo T-Shirt on display">
                        </a>
                    </div>
                    <div class="slide mobile-slide">
                        <a href="https://bigskankaudio.bandcamp.com/merch/logo-t-shirt" target="_blank" rel="noopener noreferrer">
                            <img src="merch/logo/merchLogo2.jpg" alt="Close-up of Logo T-Shirt">
                        </a>
                    </div>
                    <div class="slide mobile-slide">
                        <a href="https://bigskankaudio.bandcamp.com/merch/logo-t-shirt" target="_blank" rel="noopener noreferrer">
                            <img src="merch/logo/merchLogo3.jpg" alt="Back of Logo T-Shirt">
                        </a>
                    </div>
                    <div class="slide mobile-slide">
                        <a href="https://bigskankaudio.bandcamp.com/merch/devil-t-shirt" target="_blank" rel="noopener noreferrer">
                            <img src="merch/devil/merchDevil1.jpg" alt="Devil T-Shirt on display">
                        </a>
                    </div>
                    <div class="slide mobile-slide">
                        <a href="https://bigskankaudio.bandcamp.com/merch/devil-t-shirt" target="_blank" rel="noopener noreferrer">
                            <img src="merch/devil/merchDevil2.jpg" alt="Close-up of Devil T-Shirt">
                        </a>
                    </div>

                    <div class="slideshow-controls">
                        <button id="prevSlideMerch" aria-label="Previous slide">&#10094;</button>
                        <button id="nextSlideMerch" aria-label="Next slide">&#10095;</button>
                    </div>
                    <div class="slideshow-dots" id="slideDotsMerch"></div>
                </div>
            </div>
        </section>



        <!-- Contact Section -->
        <section id="contact" class="scroll-section">
            <div class="text-center w-full max-w-2xl mx-auto h-full flex flex-col">
                <h2 class="text-4xl font-bold mb-8 flex-shrink-0">GET IN TOUCH</h2>
                <div class="flex-grow overflow-y-auto scrollable-content pb-4 text-left sm:text-center">
                    <p class="text-gray-300 mb-8 text-lg">
                        For bookings, demos, or general inquiries, please reach out.
                    </p>
                    <form action="#" method="POST" class="space-y-6">
                        <div>
                            <label for="name" class="sr-only">Full name</label>
                            <input type="text" name="name" id="name" autocomplete="name" required class="block w-full bg-gray-800 border border-gray-700 rounded-md py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500" placeholder="Full name">
                        </div>
                        <div>
                            <label for="email" class="sr-only">Email</label>
                            <input type="email" name="email" id="email" autocomplete="email" required class="block w-full bg-gray-800 border border-gray-700 rounded-md py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500" placeholder="Email address">
                        </div>
                        <div>
                            <label for="message" class="sr-only">Message</label>
                            <textarea id="message" name="message" rows="4" required class="block w-full bg-gray-800 border border-gray-700 rounded-md py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500" placeholder="Your message"></textarea>
                        </div>
                        <div>
                            <button type="submit" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-black bg-white hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-white transition duration-300">
                                Send Message
                            </button>
                        </div>
                    </form>
                    <p class="mt-8 text-gray-400">Alternatively, email us at: <a href="mailto:info@criticalmusic-clone.com" class="text-white hover:underline">info@criticalmusic-clone.com</a></p>
                </div>
            </div>
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Mobile Menu Toggle
            const mobileMenuButton = document.getElementById('mobileMenuButton');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileMenuIcons = mobileMenuButton.querySelectorAll('svg');

            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', function () {
                    mobileMenu.classList.toggle('hidden');
                    mobileMenuIcons[0].classList.toggle('hidden');
                    mobileMenuIcons[1].classList.toggle('hidden');
                });
            }

            // --- REVISED NAVIGATION SCRIPT ---
            document.querySelectorAll('.page-scroll').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault(); // Prevent default anchor jump

                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    const scrollContainer = document.querySelector('.scroll-container');

                    if (targetSection && scrollContainer) {
                        scrollContainer.scrollTo({
                            top: targetSection.offsetTop,
                            behavior: 'smooth'
                        });
                    }

                    // Close mobile menu if it's open
                    if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                        mobileMenu.classList.add('hidden');
                        mobileMenuIcons[0].classList.remove('hidden');
                        mobileMenuIcons[1].classList.add('hidden');
                    }
                });
            });

            // Update active nav link based on scroll
            const sections = document.querySelectorAll('.scroll-section');
            const navLinks = document.querySelectorAll('nav a.nav-link');
            const scrollContainer = document.querySelector('.scroll-container');
            const navbarHeight = document.querySelector('.navbar').offsetHeight;

            if (scrollContainer) {
                scrollContainer.addEventListener('scroll', () => {
                    let currentSectionId = '';
                    sections.forEach(section => {
                        const sectionTopInContainer = section.offsetTop - scrollContainer.offsetTop;
                        const triggerPoint = sectionTopInContainer - navbarHeight;
                        if (scrollContainer.scrollTop >= triggerPoint - (window.innerHeight / 2)) {
                            currentSectionId = section.getAttribute('id');
                        }
                    });

                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        const linkHref = link.getAttribute('href');

                        if (currentSectionId === 'hero' && (linkHref === '#hero')) {
                            link.classList.add('active');
                        } else if (linkHref === `#${currentSectionId}`) {
                            link.classList.add('active');
                        }
                    });
                });
            }

            // Generic Slideshow Logic
            function initializeSlideshow(containerId) {
                const slideshowContainer = document.getElementById(containerId);
                if (!slideshowContainer) return;

                let slideInterval;
                let currentSlides = [];
                let currentSlideIdx = 0;

                const dotsContainer = slideshowContainer.querySelector('.slideshow-dots');
                const prevButton = slideshowContainer.querySelector('.slideshow-controls button:first-child');
                const nextButton = slideshowContainer.querySelector('.slideshow-controls button:last-child');

                function showSlide(index) {
                    if (!currentSlides.length || index < 0 || index >= currentSlides.length) return;
                    currentSlides.forEach((slide) => {
                        slide.classList.remove('active');
                    });
                    currentSlides[index].classList.add('active');
                    updateDots(index);
                    currentSlideIdx = index;
                }

                function updateDots(index) {
                    if (!dotsContainer) return;
                    const dots = dotsContainer.querySelectorAll('.dot');
                    dots.forEach((dot, i) => {
                        dot.classList.remove('active');
                        if (i === index) {
                            dot.classList.add('active');
                        }
                    });
                }

                function nextSlideFn() {
                    if (!currentSlides.length) return;
                    currentSlideIdx = (currentSlideIdx + 1) % currentSlides.length;
                    showSlide(currentSlideIdx);
                }

                function prevSlideFn() {
                    if (!currentSlides.length) return;
                    currentSlideIdx = (currentSlideIdx - 1 + currentSlides.length) % currentSlides.length;
                    showSlide(currentSlideIdx);
                }

                function startSlideShowInterval() {
                    stopSlideShowInterval();
                    slideInterval = setInterval(nextSlideFn, 5000);
                }

                function stopSlideShowInterval() {
                    clearInterval(slideInterval);
                }

                function setupSlideshow() {
                    stopSlideShowInterval();
                    const isMobile = window.innerWidth <= 767;
                    const desktopSlides = slideshowContainer.querySelectorAll('.desktop-slide');
                    const mobileSlides = slideshowContainer.querySelectorAll('.mobile-slide');

                    desktopSlides.forEach(s => { s.style.display = isMobile ? 'none' : '' });
                    mobileSlides.forEach(s => { s.style.display = isMobile ? '' : 'none' });

                    currentSlides = isMobile ? Array.from(mobileSlides) : Array.from(desktopSlides);

                    if (!currentSlides.length) return;

                    dotsContainer.innerHTML = '';
                    currentSlides.forEach((_, i) => {
                        const dot = document.createElement('span');
                        dot.classList.add('dot');
                        dot.addEventListener('click', () => {
                            showSlide(i);
                            startSlideShowInterval();
                        });
                        dotsContainer.appendChild(dot);
                    });

                    currentSlideIdx = 0;
                    showSlide(0);
                    startSlideShowInterval();
                }

                if (prevButton && nextButton) {
                    prevButton.addEventListener('click', () => {
                        prevSlideFn();
                        startSlideShowInterval();
                    });
                    nextButton.addEventListener('click', () => {
                        nextSlideFn();
                        startSlideShowInterval();
                    });
                }

                slideshowContainer.addEventListener('mouseenter', stopSlideShowInterval);
                slideshowContainer.addEventListener('mouseleave', startSlideShowInterval);

                let resizeTimeout;
                window.addEventListener('resize', () => {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(setupSlideshow, 250);
                });

                setupSlideshow();
            }

            initializeSlideshow('releasesSlideshow');
            initializeSlideshow('merchSlideshow');

            // Artist Description Logic
            const artistsLayoutContainer = document.getElementById('artistsLayoutContainer');
            const artistGrid = document.getElementById('artistGrid');
            const artistDescriptionPanel = document.getElementById('artistDescriptionPanel');
            const descArtistName = document.getElementById('descArtistName');
            const descArtistBio = document.getElementById('descArtistBio');

            // --- UPDATED ARTIST DATA ---
            const artistData = {
                sarge: {
                    name: "SARGE “ENAMOR”",
                    bio: "Sarge, aka “enamor” from the north of England, is a music scene veteran who brings his energy from metal and hardcore to the rave scene. Delivering high-energy performances behind the mic and an eclectic style to the decks, this one-armed DJ always turns heads. From sharing the stage with the likes of Sammy Virji, Vex, Big Zuu, and Audiodune to working behind the scenes at some of the UK’s biggest music events, you may have seen this rave bandit on your travels…",
                    imageSrc: "artists/josh.png" // <-- Path to your image
                },
                mayastrie: {
                    name: "TRISTAN “MAYÄSTRIE”",
                    bio: "Tristan, aka “Mayästrie” is a rising DJ from Cologne, Germany, making waves in the underground scene since 2022. With a sharp focus on Drum & Bass, his sets hit hard—delivering straight-in-your-face Neurofunk and dark, rolling basslines. Known for injecting energy into late-night crowds, he thrives on keeping the dancefloor alive, especially during closing sets. As a key player in Cologne’s Run and Chase collective, Mayästrie is now setting his sights on the UK bass music scene, eager to bring his sound to a wider audience. Watch out—big things are coming.",
                    imageSrc: "artists/tristan.png" // <-- Path to your image
                },
                jivah: {
                    name: "OLLIE “JIVAH”",
                    bio: "Ollie, known as “JIVAH” Hailing from Staffordshire & shaking up Manchester’s underground since 2021, JIVAH is an enigmatic force in bass music—whether shelling it down on the mic or tearing up the decks. With a background in hardcore bands, his sound is raw, grimey & unapologetically filthy, blending dark, wobbly basslines across DnB, Garage, Grime & Dubstep. He’s shared stages with Ray Keith, Aries, Traumatik, Sota & more, bringing next-level energy to every rave & festival. Now pushing his sound internationally & cooking fresh material for 2025—don’t sleep on JIVAH!",
                    imageSrc: "artists/ollie.png" // <-- Path to your image
                },
                osiris: {
                    name: "LENNY “OSIRIS DESIGNS”",
                    bio: "Lenny, aka “OSIRIS DESIGN” is a key figure in independent graphic design, shaping the visual identity of the underground culture. Hailing from Bavaria, Germany, and rooted in the graffiti scene, he specialises in cover art, event branding & merch—bringing raw, dynamic energy to every project. A writer since early youth, his passion for sketching & comics flows into every piece, making his style bold, unapologetic & unmistakable. As the in-house designer for Big Skank Audio, he crafts visuals that hit as hard as the bass, while also driving social media, event promotion & merch to the next level.",
                    imageSrc: "artists/lenny.png" // <-- Path to your image
                },
                kabbou: {
                    name: "KABBOU",
                    bio: "Kabbou, A multi-genre musician, with roots in stoner rock and UK bass music. Born in Tomelloso, Spain, he was drawn to hardcore before diving into metal, rock, and eventually UK bass. After moving to Germany, his drumming obsession led him to Birmingham, where he played in multiple bands and founded the BOOOOM ROOM, a DIY recording studio. His love for DnB, Jungle, Dubstep, and Garage inspired him to launch Big Skank Audio, a UK-Germany-based collective that promotes tasteful dark, minimal, and heavy bass music. Whether behind the kit, the mic or the decks, Kabbou brings high energy and deep, rolling sounds to every set.",
                    imageSrc: "artists/kabbou.png" // <-- Path to your image
                }
            };

            function setDesktopArtistLayout(showDescription) {
                if (!artistsLayoutContainer || !artistDescriptionPanel) return;
                if (window.innerWidth > 767) {
                    if (showDescription) {
                        artistsLayoutContainer.classList.remove('description-hidden');
                    } else {
                        artistsLayoutContainer.classList.add('description-hidden');
                    }
                }
            }

            function handleArtistClick(event) {
                const clickedItem = event.currentTarget;
                const isActive = clickedItem.classList.contains('active-artist');
                const allItems = artistGrid.querySelectorAll('.artist-item-wrapper');

                if (window.innerWidth <= 767) {
                    const existingDesc = artistGrid.querySelector('.artist-inline-description');
                    if (existingDesc) {
                        existingDesc.remove();
                    }
                }

                allItems.forEach(item => item.classList.remove('active-artist'));

                if (isActive) {
                    setDesktopArtistLayout(false);
                    return;
                }

                clickedItem.classList.add('active-artist');
                const artistId = clickedItem.dataset.artistId;
                const data = artistData[artistId];
                if (!data) return;

                if (window.innerWidth > 767) {
                    descArtistName.textContent = data.name;
                    descArtistBio.textContent = data.bio;
                    setDesktopArtistLayout(true);
                } else {
                    const descElement = document.createElement('div');
                    descElement.className = 'artist-inline-description';
                    descElement.innerHTML = `
                        <h3 class="text-lg font-bold mb-2">${data.name}</h3>
                        <p class="text-sm">${data.bio}</p>
                    `;

                    const clickedIndex = Array.from(allItems).indexOf(clickedItem);
                    const endOfRowIndex = (clickedIndex % 2 === 0) ? clickedIndex + 1 : clickedIndex;
                    const endOfRowElement = allItems[endOfRowIndex] || allItems[clickedIndex];

                    endOfRowElement.after(descElement);
                }
            }

            if (artistGrid) {
                artistGrid.innerHTML = '';
                for (const artistId in artistData) {
                    const artist = artistData[artistId];
                    const itemWrapper = document.createElement('div');
                    itemWrapper.className = 'artist-item-wrapper text-center group';
                    itemWrapper.dataset.artistId = artistId;

                    // --- THIS HTML IS NOW UPDATED TO USE imageSrc ---
                    itemWrapper.innerHTML = `
                        <img src="${artist.imageSrc}" alt="${artist.name}" class="artist-image mx-auto mb-2 transition-colors duration-300">
                        <h3 class="text-md font-medium">${artist.name}</h3>
                    `;
                    itemWrapper.addEventListener('click', handleArtistClick);
                    artistGrid.appendChild(itemWrapper);
                }
            }

            if (artistsLayoutContainer) {
                setDesktopArtistLayout(false);
            }

            document.querySelectorAll('img').forEach(img => {
                img.onerror = function() {
                    const placeholderText = this.alt || "Image Failed";
                    let width = this.naturalWidth || parseInt(this.style.width) || (this.closest('.slideshow-container') ? 1200 : (this.classList.contains('artist-image') ? 160 : 300)) ;
                    let height = this.naturalHeight || parseInt(this.style.height) || (this.closest('.slideshow-container') ? 500 : (this.classList.contains('artist-image') ? 160 : 300));

                    this.src = `https://placehold.co/${width}x${height}/1a1a1a/ffffff?text=${encodeURIComponent(placeholderText)}`;
                    this.onerror = null;
                };
            });
        });
    </script>

</body>
</html>
